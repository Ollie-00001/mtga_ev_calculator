<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>MTGA EV Calculator</title>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3570Q0GQF2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-3570Q0GQF2');
</script>
</head>
<body>
    <div class="container">
        <!-- Settings Panel -->
        <div class="panel settings-panel">
            <!-- Event Selection -->
             <div class="settings-group">
                <label for="event-select">Event</label>
                <select id="event-select">
                    <option value="premier">Premier Draft (1500 gems entry)</option>
                    <option value="traditional">Traditional Draft (1500 gems entry)</option>
                    <option value="sealed">Sealed (2000 gems entry)</option>
                    <option value="quick">Quick Draft (750 gems entry)</option>
                    <option value="standardBo1">Constructed Event (Bo1, 375 gems entry)</option>
                    <option value="standardBo3">Constructed Event (Bo3, 750 gems entry)</option>
                    <option value="collectorBoosterArenaDirect">Arena Direct Collector Booster (6000 gems entry)</option>
                    <option value="playBoosterArenaDirect">Arena Direct Play Booster (6000 gems entry)</option>
                    <option value="ubCollectorBoosterArenaDirect">Arena Direct Collector Booster (UB, 8000 gems entry)</option>
                    <option value="ubPlayBoosterArenaDirect">Arena Direct Play Booster (UB, 8000 gems entry)</option>
                    <option value="arenaOpenAllDaysBo1">Arena Open (All Days, Bo1)</option>
                    <option value="arenaOpenAllDaysBo3">Arena Open (All Days, Bo3)</option>
                    <option value="arenaOpenDay1Bo1">Arena Open Day 1 Bo1 (5000 gems entry)</option>
                    <option value="arenaOpenDay1Bo3">Arena Open Day 1 Bo3 (5000 gems entry)</option>
                    <option value="arenaOpenDay2Draft1">Arena Open Day 2 Draft 1 (invitation)</option>
                    <option value="arenaOpenDay2Draft2">Arena Open Day 2 Draft 2 (invitation)</option>
                </select>
            </div>

            <!-- Pack Value -->
            <div class="settings-group">
                <label for="pack-value">Pack Value</label>
                <input type="number" id="pack-value" value="200" min="0" step="1">
            </div>

            <!-- PIP Value -->
            <div class="settings-group">
                <label for="pip-value">Gems per Play-In Point</label>
                <input type="number" id="pip-value" value="200" min="0" step="1">
            </div>

            <!-- Booster Box Value -->
            <div class="settings-group">
                <label for="boosterbox-value">Booster Box Value (gems)</label>
                <input type="number" id="boosterbox-value" value="20000" min="0" step="1">
            </div>

            <!-- Rares Value -->
            <div class="settings-group rares-row">
                <div style="flex:1;">
                    <label for="rare-count">Rares per Event</label>
                    <input type="number" id="rare-count" value="3" min="0" step="1">
                </div>
                <div style="flex:1; margin-left: 16px;">
                    <label for="rare-value">Rare Value</label>
                    <input type="number" id="rare-value" value="25" min="0" step="1">
                </div>
            </div>
            
            <!-- Event Details (TO BE COMPLETED) -->
            <div class="settings-group">
                <div>Event Details</div>
                <div id="event-details">
                </div>
            </div>
        </div>

        <!-- Chart Area -->
        <div class="panel chart-container">
            <div class="chart-header">
                <h1>MTGA EV Calculator</h1>
                <p>Calculate the expected value of your MTGA events</p>
            </div>
            
            <div class="chart-body">
                <canvas id="ev-chart"></canvas>
            </div>

            <div class="slider-container">
                <label for="winrate-slider" class="slider-label">Win Rate</label>
                <div class="slider-wrapper">
                    <input type="range" id="winrate-slider" class="winrate-slider" min="0" max="100" value="50" step="0.01">
                </div>
                <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 10px;">
                    <input type="number" id="winrate-input" min="0" max="100" step="0.01" value="50" style="width: 100px; text-align: right;">
                    <span style="color: #ffd700; font-weight: bold;">%</span>
                </div>
                <div class="winrate-display" id="winrate-display">50.00%</div>
            </div>
        </div>

        <!-- Results Panel -->
        <div class="panel results-panel">
            <div class="ev-display">
                <div>Expected Value</div>
                <div class="ev-value" id="ev-value">+0</div>
            </div>

            <div class="breakdown">
                <h3>Breakdown</h3>
                <div class="breakdown-item">
                    <span>Entry Cost:</span>
                    <span id="entry-cost">-1500</span>
                </div>
                <div class="breakdown-item">
                    <span>Expected Gems:</span>
                    <span id="expected-gems">0</span>
                </div>
                <div class="breakdown-item">
                    <span>Expected Packs:</span>
                    <span id="expected-packs">0</span>
                </div>
                <div class="breakdown-item">
                    <span>Pack Value:</span>
                    <span id="pack-value-display">0</span>
                </div>
                <div class="breakdown-item">
                    <span>PIP Value:</span>
                    <span id="pip-value-display">0</span>
                </div>
                <div class="breakdown-item">
                    <span>Booster Box Value:</span>
                <span id="boosterbox-value-display">0</span>
                </div>
                <div class="breakdown-item">
                    <span>Rares Value:</span>
                    <span id="rare-value-display">0</span>
                </div>
                <div class="breakdown-item">
                    <span>Total EV:</span>
                    <span id="total-ev">0</span>
                </div>
            </div>
        </div>
    </div>
<footer>
    <div class="footer-content">
        <p>&copy; 2025 MTGA EV Calculator. Created by Ollie</p>
    </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<script src="script.js"></script>
</body>
</html>